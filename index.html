<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>五星评分</title>
		<style type="text/css">
			span{font-size:150px;}
		</style>
	</head>
	<body>
		<span>☆</span>
		<span>☆</span>
		<span>☆</span>
		<span>☆</span>
		<span>☆</span>
		<script type="text/javascript">
			////////源生写法：/////////
			var spans = document.getElementsByTagName("span");
			var lockNum = -1;
//			for (var i = 0; i < spans.length; i++) {
//				spans[i].index = i;
//				spans[i].onmouseover = function(){
//					for (var i = 0; i < spans.length; i++) {
//						spans[i].style.color = '';
//					}
//					for (var i = 0; i < this.index+1; i++) {
//						spans[i].style.color = this.index+1>2?'red':'blue';
//					}
//				}
//				spans[i].onclick = function(){
//					lockNum = this.index;
//				}
//				spans[i].onmouseout = function(){
//					for (var i = 0; i < spans.length; i++) {
//						spans[i].style.color = '';
//					}
//					for (var i = 0; i < lockNum+1; i++) {
//						spans[i].style.color = lockNum+1>2?'red':'blue';
//					}
//				}
//			}
			////////封装函数///////
			function fn(last){
				for (var i = 0; i < spans.length; i++) {
					spans[i].style.color = '';
				}
				for (var i = 0; i < last; i++) {
					spans[i].style.color = last>2?'red':'blue';
				}
			}
			for(var i=0;i<spans.length;i++){
				spans[i].index = i;
				spans[i].onmouseover = function(){
					fn(this.index+1)
				}
				spans[i].onclick = function(){
					lockNum = this.index;
				}
				spans[i].onmouseout = function(){
					fn(lockNum+1);
				}
			}
		</script>
	</body>
</html>
